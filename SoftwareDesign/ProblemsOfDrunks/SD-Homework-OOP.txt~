Задача
Запрограммировать, используя ООП, на языке Java или C++. Вывести состояние игрового поля через 200, 300 и 500 шагов. Вывод можно осуществить в псевдографике (см. ниже).
Прислать картинки (скриншоты) и исходный код. 
Условия игры


Действие происходит на поле 15x15 пошагово. За один шаг игры каждый из персонажей делает ход.
Столб
В клетке (7,7) поля располагается столб. Столб не ходит.
Пьяница
К пограничной клетке (0,9) прилегает Трактир. Раз в 20 шагов из трактира выходит 
Пьяница (появляется на клетке) и далее начинает шататься: каждый ход пьяница делает случайный шаг на одну клетку вверх, вниз, вправо или влево.
Если пьяница упирается в столб (делает шаг в клетку со столбом), он засыпает (перестает ходить). Если шатающиеся пьяницы сталкиваются, они обходят друг друга (остаются на месте и ходят в следующий раз). Если пьяница упирается в заснувшего пьяницу, он тоже засыпает.
Бутылка
У каждого пьяницы есть при себе бутылка. На каждом ходе с вероятностью 1/30 он ее теряет. Если пьяница натыкается на бутылку, он падает, пытается встать, но засыпает. Если пьяница натыкается на спящего лежачего пьяницу, он обходит его (как при столкновении с шатающимся пьяницей). 
Фонарь
В поле (3, 10) находится фонарь. Фонарь освещает клетки в радиусе 3. Все персонажи обходят фонарь.
Полицейский
Полицейский участок прилегает к клетке (3, 14). Полицейский видит из участка освещенные фонарем клетки, и если там оказывается спящий  пьяница, выходит и уводит его в участок (может увести одного пьяницу за раз). За шаг полицейский делает один ход. При столкновении с объектами на поле он старается их обойти (на следующем ходе). 




      
         T   
000000000@00000
000000000000000
0000000000@0000
000B000000Ф0!00П
000000000000000
000000000000000
000000000000000
0000@01#0000@00
000000000000000
000000000000000
000000000000000
000000000000000
0000B0000000000
000000000000000
000000000000000
                     
0 - пустая клетка
T - трактир
@ - пьяница
# - столб
Ф - фонарь 
B - бутылка
& - пьяница, уснувший лежа
1 - пьяница, уснувший стоя у столба
П - полицейский участок
! - полицейский
________________




[a]
[a]Михаил Кринкин:
Я тут поэксперементировал, при таких параметрах игра довольно часто будет стопориться, т. к. с вероятностью > 1/30 , бутылка падает на входе в Паб, и выходящий из паба падает прямо на ней, после чего на эту клетку ничего поставить уже нельзя, и очистить ее никто не может, так как она не освещается фонарем.
________________
Andrey Tolmachev:
Хорошее замечание! Немного поменял объекты на поле.
Что значит, что вероятность падения бутылки > 1/30?


19 февраля 2012 г. 13:59 пользователь Krinkin.M.U (Документы Google) <
________________
Михаил Кринкин:
Ну смотрите, чем ближе к точке входа клетка поля, тем чаще ее посещают пьяницы (начальную точку посещают все, а дальше по убывающей). Более того, с учетом равновероятности выбора направления движения, пьяницы не очень резво убегают с точки старта, и, в итоге, вероятность попадания бутылки на клетку поля тем выше, чем ближе клетка к точке старта. Ну > 1/30, это к тому, что даже при малой вероятности падения бутылки, в сумме получаем довольно значительную вероятность застопорить игру.
________________
Andrey Tolmachev:
Да, в этом смысле понял.


19 февраля 2012 г. 22:53 пользователь Krinkin.M.U (Документы Google) <