

Decl A

Decl B

Function firstThread
Args [ Ref B A ]
Body
    Read B
    Write A [ term ]
    Write B [ B term ]
EndFunction


Function secondThread
Args [ Ref Ax Ref Bx ]
Body 
    Read Bx
    Write Bx [ Bx term ]
    Call compare [ Bx Ax ]
EndFunction


Function compare
Args [ left right ]
Body 
    Read Bx
    Read Ax
EndFunction

Function switchFunc
Args [ ]
Body
    Switch
    Condition
        Read X
        Read Z
    Case
        Write Z [ A ]
    Case
        Write Z [ A ]
    EndSwitch
    
    Loop 
    Condition
        Read Z
    Body
        Write Z [ Z 1 ]
        Write A [ A 2 ]
    EndLoop

EndFunction